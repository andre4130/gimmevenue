{"version":3,"sources":["styles/styledComponents/Button.js","context/alert/alertContext.jsx","context/authentication/authContext.jsx","components/Auth/Login.jsx","components/Auth/Register.jsx","styles/styledComponents/StyledDiv.js","components/FilterBox/FilterBox.jsx","components/CitySelection/CheckCity.jsx","components/Calendar/Calendar.jsx","containers/Map/BarcelonaMapGl.jsx","components/Footer/Footer.jsx","components/Navbar/Item.js","components/Navbar/Button.js","components/Navbar/Content.js","components/Drawer/Wrapper.js","components/Drawer/Overlay.js","components/Drawer/Content.js","components/Drawer/index.js","components/Drawer/Drawer.js","styles/settings.js","styles/utils.js","components/FloatingActionButton/FloatingActionButton.js","components/FloatingActionButton/index.js","components/Icon/icons.js","components/Icon/Icon.js","components/Icon/index.js","components/Navbar/index.js","components/Navbar/Navbar.js","components/Header/Header.jsx","containers/Map/Map.jsx","context/alert/alertReducer.jsx","types/index.js","context/alert/alertState.jsx","context/authentication/authReducer.jsx","config/axios.jsx","config/tokenAuth.js","context/authentication/authState.jsx","App.js","serviceWorker.js","index.js"],"names":["Button","styled","button","alertContext","createContext","authContext","Login","props","useContext","AlertContext","alert","showAlert","AuthContext","msg","authentication","login","useEffect","history","push","useState","email","password","user","setUser","onChange","e","target","name","value","className","category","onSubmit","preventDefault","trim","htmlFor","type","id","placeholder","to","Register","registerUser","console","log","username","password2","length","StyledDiv","div","FilterBox","selectedCity","latitude","longitude","onClick","_genres","state","checkbox","map","genre","key","checked","StyledSelect","select","CheckCity","setViewPort","viewPort","handleSelectCity","cityList","cities","city","idNumber","currentCity","filter","coordinates","MyCalendar","date","Date","setDate","calendarType","BarcelonaMapGl","mapboxApiAccessToken","zoom","width","height","genres","setChecked","stateVenues","venues","stateVenue","setVenue","selectedVenue","setSelectedVenue","listener","window","addEventListener","removeEventListener","mapRef","useRef","points","venue","properties","cluster","venueID","geometry","position","bounds","current","getMap","getBounds","toArray","flat","venuesMarker","useSupercluster","options","radius","maxZoom","minZoom","clusters","isVisible","token","mapStyle","onViewportChange","viewport","ref","address","isFavorite","counter","i","includes","handleCheckboxChange","handleSelectAll","Footer","year","Item","a","Content","Wrapper","visible","Overlay","Drawer","toggleVisibility","onRequestChange","setState","nextProps","this","innerRef","comp","wrapper","children","Component","breakpoints","small","medium","large","media","Object","keys","reduce","accumulator","label","emSize","css","FloatingActionButton","icons","arrowBack","menu","info","code","assessment","business","search","globe","Icon","fill","viewBox","xmlns","d","defaultProps","Navbar","handleToggle","open","href","rel","Header","authUser","logout","App","stateCity","setCityState","tokens","getFullYear","action","payload","AlertState","useReducer","alertReducer","dispatch","Provider","setTimeout","localStorage","setItem","removeItem","clientAxios","axios","create","baseURL","process","tokenAuth","defaults","headers","common","AuthState","initialState","getItem","AuthReducer","data","post","response","get","exact","path","component","Map","React","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c5d70a2f.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nconst Button = styled.button`\r\nbackground-color: #488068;\r\nfont: inherit;\r\npadding: 0.5rem 2rem;\r\ncolor: #182F25 !important;\r\n\r\n:hover {\r\n    background-color: #DFF2D8;\r\n    color: #488068 !important;\r\n    transition: ease 0.4s;\r\n}\r\n`    \r\nexport default Button;","import {createContext} from 'react';\r\n\r\nconst alertContext = createContext();\r\n\r\nexport default alertContext;","import { createContext } from 'react';\r\n\r\nconst authContext = createContext();\r\n\r\nexport default authContext;","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\"\r\n\r\n//styled components \r\n\r\nimport Button from '../../styles/styledComponents/Button'\r\n\r\n//context\r\nimport AlertContext from '../../context/alert/alertContext';\r\nimport AuthContext from '../../context/authentication/authContext';\r\n\r\n\r\nconst Login = (props) => {\r\n    //extract values from alertcontext \r\n\r\n    const alertContext = useContext(AlertContext)\r\n    const {alert, showAlert } = alertContext;\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { msg, authentication, login } = authContext;   \r\n\r\n    //in case user does not exist or the password it is incorrect\r\n    useEffect(() => {\r\n        if(authentication) {\r\n            props.history.push('/')\r\n            return;\r\n        };\r\n        if(msg) {\r\n           showAlert(msg.msg, 'alert-error')\r\n\r\n        }\r\n    }, [msg, authentication, props.history]);\r\n\r\n    //state for login\r\n\r\n    const [user, setUser] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const { email, password } = user;\r\n\r\n    const onChange = e => {\r\n\r\n        setUser({\r\n            ...user,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    // User starts session \r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        //Validation\r\n        if(email.trim() === '' || password.trim() === '') {\r\n            showAlert('All fields are mandatory', 'alert-error')\r\n        }\r\n        //Login\r\n        login({email, password});\r\n    }\r\n    return (\r\n        <div className=\"form-user\">\r\n             {alert ? (<div className={`alert ${alert.category}`}>{alert.msg}</div>) : null}\r\n            <div className=\"contenedor-form sombra-dark\">\r\n                <h1>Login</h1>\r\n                <form onSubmit={onSubmit}>\r\n                    <div className=\"campo-form\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Your Email\"\r\n                            value={email}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Your Password\"\r\n                            value={password}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                        <Button type=\"submit\" className=\"btn btn-primario btn-block\"\r\n                            value=\"Login\">Login</Button>\r\n                    </div>\r\n                </form>\r\n                <Link to={'/register'} className=\"enlace-cuenta\">Register</Link>\r\n                <br/>\r\n                <Link to={'/'} className=\"enlace-cuenta\">Back to Map</Link>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//context\r\nimport AlertContext from '../../context/alert/alertContext';\r\nimport AuthContext from '../../context/authentication/authContext';\r\n\r\nconst Register = (props) => {\r\n\r\n    //extract values from alertcontext \r\n\r\n    const alertContext = useContext(AlertContext)\r\n    const {alert, showAlert } = alertContext;\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { msg, authentication, registerUser } = authContext;\r\n    \r\n    //in case of correct authentication of the user, signing in or duplicated user registration \r\n\r\n    useEffect(() => {\r\n\r\n        if(authentication) {\r\n            props.history.push('/')\r\n            return;\r\n        };\r\n        if(msg) {\r\n            showAlert(msg.msg, msg.category)\r\n            console.log(msg.msg, msg.category)\r\n        }\r\n    }, [msg, authentication, props.history]);\r\n\r\n\r\n    //state for login\r\n\r\n    const [user, setUser] = useState({\r\n        username:\"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        password2: \"\"\r\n    });\r\n\r\n    const { username, email, password, password2 } = user;\r\n\r\n    const onChange = e => {\r\n\r\n        setUser({\r\n            ...user,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    // User starts session \r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        //Validation\r\n\r\n        if (username.trim() === '' ||\r\n            email.trim() === '' ||\r\n            password.trim() === '' ||\r\n            password2.trim() === ''\r\n        ) {\r\n            showAlert('All fields are mandatory', 'alert-error')\r\n            return;\r\n        }\r\n\r\n        //Minimum password 6 characters \r\n        if (password.length < 6) {\r\n            showAlert(\"Password must be at least 6 characters\", 'alert-error')\r\n            return;\r\n        }\r\n\r\n        //Password matching \r\n        if (password !== password2) {\r\n            showAlert(\"Password and Password confirmation do not match\", 'alert-error')\r\n            return;\r\n        }\r\n        //register\r\n        registerUser({\r\n            username,\r\n            email,\r\n            password\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"form-user\">\r\n            {alert ? (<div className={`alert ${alert.category}`}>{alert.msg}</div>) : null}\r\n            <div className=\"contenedor-form sombra-dark\">\r\n                <h1>Register</h1>\r\n                <form onSubmit={onSubmit}>\r\n                <div className=\"campo-form\">\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            name=\"username\"\r\n                            placeholder=\"Your Username\"\r\n                            value={username}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Your Email\"\r\n                            value={email}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Your Password\"\r\n                            value={password}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                        <label htmlFor=\"password2\">Confirm Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password2\"\r\n                            name=\"password2\"\r\n                            placeholder=\"Repeat your Password\"\r\n                            value={password2}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo-form\">\r\n                        <input type=\"submit\" className=\"btn btn-primario btn-block\"\r\n                            value=\"Register\" />\r\n                    </div>\r\n                </form>\r\n                <Link to={'/login'} className=\"enlace-cuenta\">Login</Link>\r\n                <br/>\r\n                <Link to={'/'} className=\"enlace-cuenta\">Back to Map</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;","import styled from 'styled-components'\r\n\r\nconst StyledDiv = styled.div`\r\nwidth: 90%;\r\nbackground-color: blue;\r\nheight: 100px;\r\ncolor: red;\r\n`\r\nexport default StyledDiv","import React, { Fragment } from 'react'\r\n\r\n//styled components\r\nimport Button from '../../styles/styledComponents/Button'\r\n\r\nfunction FilterBox({ selectedCity, latitude, longitude, onChange, onClick, state}) {\r\n\r\n    const _genres = state.checkbox.map(genre =>\r\n        <li key={genre.id} >\r\n            <input\r\n                className='checkbox'\r\n                value={genre.genre}\r\n                name=\"Genre\"\r\n                type=\"checkbox\"\r\n                checked={genre.checked}\r\n                onChange={onChange}\r\n            >\r\n            </input>\r\n            <label>\r\n                {`${genre.genre}`}\r\n            </label>\r\n        </li>\r\n    )\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"filterbox\">\r\n                <p>{`Your selected city is: ${selectedCity}`}</p>\r\n                <p>{`Your coordinates are:`}</p>\r\n                <p> {`lat ${latitude}, long ${longitude}`}</p>\r\n                <label>\r\n                    Select Genre:\r\n                    <ul>\r\n                        {_genres}\r\n                    </ul>\r\n                </label>\r\n                <div>\r\n                <Button\r\n                    className=\"btn\"\r\n                    type=\"button\" \r\n                    onClick={onClick}\r\n                    value=\"Select All\"\r\n                    name=\"selectAll\"\r\n                >Select All</Button>\r\n                <Button\r\n                className=\"btn\"\r\n                type=\"button\"\r\n                onClick={onClick}\r\n                value=\"Clear All\"\r\n                name=\"clearAll\">\r\n                    Clear All\r\n                </Button>\r\n                </div>\r\n                \r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default FilterBox;","import React, { Fragment } from 'react';\r\n\r\n//data\r\nimport cities from '../../data/cities.json'\r\n\r\n//styles\r\nimport styled from 'styled-components'\r\n\r\nconst StyledSelect = styled.select`\r\nmargin: 0.3rem;\r\npadding: 0.1rem;\r\nborder-radius: 5px;\r\nbackground-color:none;\r\nfont-size: 1rem;\r\n\r\n:dropdown-content {\r\n    border-radius: 5px;\r\n}\r\n`\r\n\r\nfunction CheckCity({ selectedCity, latitude, longitude, setViewPort, viewPort, handleSelectCity }) {\r\n\r\n    //Select City Function\r\n\r\n    const selectCity = (e) => {\r\n\r\n        const currentCity = cities.filter(city => city.id === e.target.value);\r\n        console.log('in selectCity function', currentCity);\r\n        console.log('selected', e.target.value);\r\n        handleSelectCity(currentCity);\r\n        setViewPort({ ...viewPort, latitude: currentCity[0].coordinates[0], longitude: currentCity[0].coordinates[1] })\r\n    }\r\n\r\n\r\n    const cityList = cities.map(city =>\r\n        <option key={city.idNumber} value={city.id}>\r\n            {city.id}\r\n        </option>\r\n    )\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"checkcity\">\r\n                <form>\r\n                    <label>\r\n                        Select your City:\r\n                        <StyledSelect onChange={selectCity}>\r\n                            {cityList}\r\n                        </StyledSelect>\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default CheckCity;","import React, { useState } from 'react';\r\nimport Calendar from 'react-calendar';\r\n \r\nconst MyCalendar = props => {\r\n\r\nconst [date, setDate] = useState({\r\n  date: new Date()\r\n})\r\n\r\nconst handleChange = date => setDate({date}); console.log(date.date)\r\n\r\nreturn (\r\n  <div>\r\n        <Calendar\r\n          className=\"calendar\"\r\n          calendarType='Hebrew'\r\n          onChange={handleChange}\r\n          value={date.date}\r\n        />\r\n      </div>\r\n)\r\n\r\n}\r\n\r\nexport default MyCalendar","import React, { useState, useContext, useEffect, useRef } from 'react'\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\r\nimport useSupercluster from \"use-supercluster\";\r\n\r\n\r\n//components\r\nimport CitySelection from '../../components/CitySelection/CitySelection'\r\nimport FilterBox from '../../components/FilterBox/FilterBox';\r\nimport CheckCity from '../../components/CitySelection/CheckCity';\r\n// import Login from '../../components/Auth/Login';\r\n// import Register from '../../components/Auth/Register';\r\n\r\n//data \r\nimport genres from '../../data/genres.json'\r\nimport venues from '../../data/venues.json'\r\nimport MyCalendar from '../../components/Calendar/Calendar';\r\n\r\n\r\nfunction BarcelonaMapGl({ mapboxApiAccessToken, selectedCity, latitude, longitude, handleSelectCity }) {\r\n\r\n    const [viewPort, setViewPort] = useState({\r\n        latitude: 41.386991,\r\n        longitude: 2.169987,\r\n        zoom: 13,\r\n        width: \"100vw\",\r\n        height: \"95vh\"\r\n    })\r\n\r\n    //setting the genre filter state function\r\n    const [state, setChecked] = useState({\r\n        checkbox: genres\r\n    })\r\n\r\n    const [stateVenue, setVenue] = useState({\r\n        stateVenues: venues\r\n    })\r\n\r\n    useEffect(() => {\r\n        setChecked(state)\r\n    }, [state]) \r\n\r\n    const handleCheckboxChange = e => {\r\n\r\n  \r\n\r\n        setChecked({\r\n            checkbox: state.checkbox.map(genre => {\r\n                return (e.target.value !== genre.genre) ?\r\n                    genre : { ...genre, checked: !genre.checked }\r\n            })\r\n            \r\n        })\r\n\r\n        //hides and shows the venues according to the ticked checkboxes\r\n        console.log(\"checkbox\", state)\r\n\r\n        setVenue({\r\n            stateVenues: stateVenue.stateVenues.map(venue => {\r\n                var counter = venue.genre.length;\r\n                for (let i = 0; i < state.checkbox.length; i++) {\r\n                    if ((state.checkbox[i].checked) === false && venue.genre.includes(state.checkbox[i].genre)) {\r\n                        counter = counter - 1\r\n                        // console.log(\"the genre\", state.checkbox[i].genre, \"is not checked and included in the venue\", venue.name ,\". the counter is reduced to:\", counter)\r\n                    } else {\r\n                        // console.log(\"nothing happens\")\r\n                    }\r\n                }\r\n                if (counter === 0) {\r\n                    console.log(\"counter = 0\", venue)\r\n                    return { ...venue, isVisible: false }\r\n                } else {\r\n                    console.log(\"counter no 0\", counter)\r\n                    return { ...venue, isVisible: true }\r\n                }\r\n            })\r\n        })\r\n    };\r\n\r\n    const handleFavorite = e => {\r\n        setVenue({\r\n         stateVenues: {...venues, isFavorite: true}\r\n        })\r\n    }\r\n    //useEffect in order to avoid the delay of the checkbox selector\r\n    useEffect(() => {\r\n        setVenue(stateVenue)\r\n    }, [stateVenue, state]) //this array dependency only runs when any of these dependencies changes. if the array is empty, it only runs on \"mount\"\r\n\r\n    const handleSelectAll = e => {\r\n        //select all and clear all buttons\r\n        if (e.target.value === \"Select All\") {\r\n            setChecked({\r\n                checkbox: state.checkbox.map(genre => {\r\n                    return { ...genre, checked: true }\r\n                })\r\n            })\r\n        } else {\r\n            setChecked({\r\n                checkbox: state.checkbox.map(genre => {\r\n                    return { ...genre, checked: false }\r\n                })\r\n            })\r\n        }\r\n        //hiding and showing the locations    \r\n        if (e.target.value === \"Select All\") {\r\n            setVenue({\r\n                stateVenues: stateVenue.stateVenues.map(venue => {\r\n                    return { ...venue, isVisible: true }\r\n                })\r\n            })\r\n        } else {\r\n            setVenue({\r\n                stateVenues: stateVenue.stateVenues.map(venue => {\r\n                    return { ...venue, isVisible: false, counter: 0 }\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    //using the escape key to close the popup\r\n    const [selectedVenue, setSelectedVenue] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const listener = e => {\r\n            if (e.key === \"Escape\") {\r\n                setSelectedVenue(null)\r\n            }\r\n        };\r\n        window.addEventListener(\"keydown\", listener);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"keydown\", listener)\r\n        }\r\n    }, []);\r\n\r\n\r\n    const mapRef = useRef();\r\n\r\n    //Generating a Supercluster of venues ==> currently not working\r\n\r\n\r\n    //Load and prepare the data\r\n    const points = venues.map(venue => ({\r\n        type: \"Feature\",\r\n        id: venue.id,\r\n        properties: { cluster: false, venueID: venue.id, category: venue.className },\r\n        geometry: { type: \"Point\", coordinates: [venue.position[0], venue.position[1]] },\r\n    }));\r\n\r\n    //get the bounds \r\n\r\n    const bounds = mapRef.current ? mapRef.current.getMap().getBounds().toArray().flat() : null;\r\n\r\n    //generating the cluster\r\n\r\n    const { clusters } = useSupercluster({\r\n        points,\r\n        zoom: viewPort.zoom,\r\n        bounds,\r\n        options: { radius: 75, maxZoom: 20, minZoom: 0 }\r\n    });\r\n\r\n    //markers code Leigh\r\n    const venuesMarker = stateVenue.stateVenues.map(venue =>\r\n        <Marker\r\n            key={venue.id}\r\n            latitude={venue.position[0]}\r\n            longitude={venue.position[1]}\r\n        >\r\n            <div className={venue.isVisible ? \"show\" : \"hide\"}>\r\n                {venue.name}\r\n                <br />\r\n                <div className={venue.className}\r\n                    onClick={(e) => {\r\n                        e.preventDefault()\r\n                        setSelectedVenue(venue)\r\n                    }}\r\n                >\r\n                </div>\r\n            </div>\r\n        </Marker>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <ReactMapGL\r\n                {...viewPort}\r\n                mapboxApiAccessToken={mapboxApiAccessToken.token[0].token}\r\n                mapStyle=\"mapbox://styles/andre4130/ckcnjsgto2nrb1inpf706l90s\"\r\n                onViewportChange={viewport => {\r\n                    setViewPort(viewport);\r\n                }}\r\n                onClick={() => setSelectedVenue(null)}\r\n                ref={mapRef}\r\n            >\r\n                {venuesMarker}\r\n                {selectedVenue ? (\r\n                    <Popup\r\n                        className=\"popup\"\r\n                        latitude={selectedVenue.position[0]}\r\n                        longitude={selectedVenue.position[1]}\r\n                        // onClose={() => setSelectedVenue(null)}\r\n                    >\r\n                        <h2>{selectedVenue.name}</h2>\r\n                        <div>\r\n                            <h5>Address</h5>\r\n                            <p>{selectedVenue.address}</p>\r\n                        </div>\r\n                        <div>\r\n                            <h5>Genres</h5>\r\n                            <ul className=\"list-group list-group-horizontal\">{selectedVenue.genre.map(genre =>\r\n                                <li className=\"list-group-item\">{genre}</li>\r\n                            )}</ul>\r\n                        </div>\r\n                        <div>\r\n                            <h5>Agenda</h5>\r\n                            <MyCalendar/>\r\n                        </div>\r\n                        <div className=\"venue-favorite\">\r\n                        <label>\r\n                Mark as Favourite\r\n            </label>\r\n                        <input\r\n                className='checkbox'\r\n                // value={this.genre.favorite}\r\n                name=\"Genre\"\r\n                type=\"checkbox\"\r\n                onChange={handleFavorite}\r\n            >\r\n            </input>\r\n                        </div>\r\n                    </Popup>\r\n                ) : null}\r\n                <FilterBox\r\n                    selectedCity={selectedCity}\r\n                    latitude={latitude}\r\n                    longitude={longitude}\r\n                    onChange={(e) => handleCheckboxChange(e)}\r\n                    onClick={(e) => handleSelectAll(e)}\r\n                    state={state}\r\n                    viewport={viewPort}\r\n                />\r\n                <CheckCity\r\n                    selectedCity={selectedCity}\r\n                    latitude={latitude}\r\n                    longitude={longitude}\r\n                    setViewPort={setViewPort}\r\n                    viewPort={viewPort}\r\n                    handleSelectCity={handleSelectCity}\r\n                />\r\n            </ReactMapGL>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default BarcelonaMapGl","import React from 'react';\r\n\r\n\r\nconst Footer = (props) => (\r\n    <footer>\r\n        Gimme Venue! follow us on Twitter, Instagram and Facebook &copy; {props.year}\r\n    </footer>\r\n)\r\n\r\nexport default Footer","import styled from 'styled-components';\r\n\r\nconst Item = styled.a`\r\n  color: #1f2228;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-shrink: 0\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  padding: 15px 30px;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    background-color: #f2f2f2;\r\n  }\r\n\r\n  > svg {\r\n    margin-right: 20px;\r\n  }\r\n`;\r\n\r\nexport default Item;\r\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.a`\r\n  background-color: #47C8FF;\r\n  border-radius: 3px;\r\n  color: white;\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  margin: 15px 0;\r\n  padding: 15px 30px;\r\n  text-decoration: none;\r\n  text-align: center;\r\n`;\r\n\r\nexport default Button;\r\n","import styled from 'styled-components';\r\n\r\nconst Content = styled.div`\r\n  border-bottom: 1px solid #f2f2f2;\r\n  padding: 15px 30px;\r\n\r\n  &:last-of-type {\r\n    border-bottom: 0;\r\n    border-top: 1px solid #f2f2f2;\r\n    margin-top: auto\r\n  }\r\n`;\r\n\r\nexport default Content;\r\n","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n  pointer-events: ${props => (props.visible ? 'auto' : 'none')};\r\n`;\r\n\r\nexport default Wrapper;\r\n","import styled from 'styled-components';\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  will-change: opacity;\r\n  opacity: ${props => (props.visible ? '1' : '0')};\r\n  transition: opacity 0.3s cubic-bezier(0, 0, 0.3, 1);\r\n`;\r\n\r\nexport default Overlay;\r\n","import styled from 'styled-components';\r\n\r\nconst Content = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 40%;\r\n  min-width: 264px;\r\n  max-width: 340px;\r\n  background-color: #ffffff;\r\n  box-shadow: 3px 0 16px rgba(0, 0, 0, 0.4);\r\n  will-change: transform;\r\n  transform: translateX(${props => (props.visible ? '0' : '110%')});\r\n  transition: transform 0.13s cubic-bezier(0, 0, 0.3, 1);\r\n\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport default Content;\r\n","import Drawer from './Drawer';\r\n\r\nexport default Drawer;\r\n","import React, { Component } from 'react';\r\nimport Wrapper from './Wrapper';\r\nimport Overlay from './Overlay';\r\nimport Content from './Content';\r\n\r\nclass Drawer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: typeof props.visible !== 'undefined' ? props.visible : false\r\n    };\r\n  }\r\n\r\n  toggleVisibility = visible => {\r\n    this.props.onRequestChange(visible);\r\n    this.setState({\r\n      visible: visible\r\n    });\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.state.visible === nextProps.visible) return;\r\n    this.toggleVisibility(nextProps.visible);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper\r\n        visible={this.state.visible}\r\n        innerRef={comp => {\r\n          this.wrapper = comp;\r\n        }}\r\n      >\r\n        <Overlay\r\n          onClick={() => this.toggleVisibility(false)}\r\n          visible={this.state.visible}\r\n        />\r\n        <Content visible={this.state.visible}>\r\n          {this.props.children}\r\n        </Content>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Drawer;\r\n","const breakpoints = {\r\n  small: 376,\r\n  medium: 768,\r\n  large: 992\r\n};\r\n\r\nexport { breakpoints };\r\n","import { css } from 'styled-components';\r\nimport { breakpoints } from './settings';\r\n\r\n// Iterate through the breakpoints and create a media template\r\nconst media = Object.keys(breakpoints).reduce((accumulator, label) => {\r\n  // use em in breakpoints to work properly cross-browser and support users\r\n  // changing their browsers font-size: https://zellwk.com/blog/media-query-units/\r\n  const emSize = breakpoints[label] / 16;\r\n  accumulator[label] = (...args) => css`\r\n    @media (min-width: ${emSize}em) {\r\n      ${css(...args)}\r\n    }\r\n  `;\r\n  return accumulator;\r\n}, {});\r\n\r\nexport { media };\r\n","import styled from 'styled-components';\r\nimport { media } from '../../styles/utils';\r\n\r\nconst FloatingActionButton = styled.div`\r\n    border-radius: 28px;\r\n    box-shadow: 0 4px 11px rgba(0, 0, 0, .3);\r\n    background-color: #488068;\r\n    color: white;\r\n    cursor: pointer;\r\n    width: 56px;\r\n    height: 56px;\r\n    will-change: transform;\r\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n    z-index: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    ${media.large`\r\n      top: 30px;\r\n      right: 30px;\r\n    `}\r\n\r\n    &:hover {\r\n      transform: scale(1.15);\r\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);\r\n    }\r\n`;\r\nexport default FloatingActionButton;\r\n","import FloatingActionButton from './FloatingActionButton';\r\n\r\nexport default FloatingActionButton;\r\n","const icons = {\r\n  arrowBack: 'M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z',\r\n  menu: 'M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z',\r\n  info: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z',\r\n  code: 'M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z',\r\n  assessment: 'M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z',\r\n  business: 'M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z',\r\n  search: 'M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z',\r\n  globe: 'M120.255 177.219l20.007 2.541a12.935 12.935,0,0,0,12.924-6.12,36.577,36.577,0,0,1,36.295-17.918l8.748,1.118a12.8,12.8,0,0,0,11.7-4.86l7.709-10a21.056,21.056,0,0,0,.629-24.942L201.646,93.066a72.352,72.352,0,0,0-22.764-21.078,81.941,81.941,0,0,1-7.812-5.195l-29.258-22a240.963,240.963,0,0,0-55.518,41.5A238.18,238.18,0,0,0,17.642,227.805a43.825,43.825,0,0,1,46,21.033,34.453,34.453,0,0,0,6.147,7.725l17.417,16.394a21.172,21.172,0,0,0,8.912,4.991l2.033.556a40.466,40.466,0,0,1,28.224,28.106l9.338,33.69a27.819,27.819,0,0,0,4.71,9.484l28.294,37.1a40.887,40.887,0,0,1,7.793,18.011l7.69,46.139a1.847,1.847,0,0,0,.559,1.128,1.531,1.531,0,0,0,1.6.241,8.005,8.005,0,0,0,4.889-6.672,51.613,51.613,0,0,1,11.959-28.339l8.2-9.859a12.129,12.129,0,0,0,2.275-4.2L222.1,376a45.482,45.482,0,0,1,15.853-22.8l25.058-19.242a3.97,3.97,0,0,0,1.573-2.417,3.491,3.491,0,0,0-.8-2.894L247.1,309.019c-1.08-1.27-2.121-2.6-3.1-3.961l-12.752-17.775c-6.456-9-16.269-14.205-26.25-13.956a11.374,11.374,0,0,1-6.16-1.62l-26.066-15.64a20.341,20.341,0,0,0-19.975-.485l-13.733,7.357a32.108,32.108,0,0,1-42.129-11.081L83.6,230.8a34,34,0,0,1,.576-37.267A37.631,37.631,0,0,1,120.255,177.219Z\"/><path d=\"M477.336,328.807a36.134,36.134,0,0,0-31.689,21.677l-1.518,3.339A37.271,37.271,0,0,1,409.805,376H384.539a16.424,16.424,0,0,1-16.6-14.833l-.955-9.86A35.884,35.884,0,0,0,350.7,324.492a19.207,19.207,0,0,1-8.7-16.371V298a24.619,24.619,0,0,1,8.166-18.594l42.939-38.125a37.526,37.526,0,0,0,11.045-38.911,38.351,38.351,0,0,0-31.994-26.919l-4.357-.537a26.279,26.279,0,0,1-16.586-8.788,16.986,16.986,0,0,1-2.041-19.587l9.067-15.5A315.411,315.411,0,0,1,397.967,77.2l6.83-9.531A240.488,240.488,0,0,0,151.709,39.723L177.075,58.8a72.119,72.119,0,0,0,6.857,4.56,82.421,82.421,0,0,1,25.931,24.011l16.622,23.97a31.022,31.022,0,0,1-.927,36.745l-7.709,10a22.827,22.827,0,0,1-20.885,8.674l-8.748-1.119a26.582,26.582,0,0,0-26.386,13.027A22.9,22.9,0,0,1,139,189.68l-20.01-2.541a27.673,27.673,0,0,0-26.54,12,24,24,0,0,0-.407,26.308l13.341,21.064a22.071,22.071,0,0,0,28.957,7.617l13.733-7.358a30.388,30.388,0,0,1,29.842.725l26.066,15.639a1.315,1.315,0,0,0,.755.2c13.29-.35,26.246,6.427,34.637,18.124l12.751,17.775c.816,1.136,1.687,2.251,2.59,3.313L271.4,322.17a13.573,13.573,0,0,1,3.056,10.949,13.85,13.85,0,0,1-5.357,8.769L244.042,361.13a35.543,35.543,0,0,0-12.386,17.818l-8.423,27.326a22.073,22.073,0,0,1-4.141,7.648l-8.2,9.86a41.653,41.653,0,0,0-9.689,22.852,17.986,17.986,0,0,1-10.979,14.987,11.5,11.5,0,0,1-4.453.9,11.535,11.535,0,0,1-11.437-9.844l-7.69-46.138a30.867,30.867,0,0,0-5.88-13.59l-28.294-37.1a37.794,37.794,0,0,1-6.4-12.878l-9.338-33.69a30.42,30.42,0,0,0-21.219-21.13l-2.033-.555a31.22,31.22,0,0,1-13.134-7.357L62.935,263.846a44.5,44.5,0,0,1-7.929-9.966,33.825,33.825,0,0,0-35.693-16.218l-2.665.526Q16,247.035,16,256A240,240,0,0,0,425.706,425.706,238.913,238.913,0,0,0,484.9,328.464c-.543.049-1.085.078-1.62.1Z\"/><path d=\"M412.528,74.049l-6.609,9.223a4.928,4.928,0,0,1-.382.47,305.417,305.417,0,0,0-38.665,52.346l-9.038,15.455a7.059,7.059,0,0,0,.911,8,16.31,16.31,0,0,0,10.291,5.449l4.369.537a48.394,48.394,0,0,1,40.37,33.943,47.527,47.527,0,0,1-13.94,49.307L356.787,286.9A14.615,14.615,0,0,0,352,298v10.119a9.144,9.144,0,0,0,4.123,7.908,45.6,45.6,0,0,1,20.7,34.164l1.01,9.98a6.51,6.51,0,0,0,6.7,5.827h25.266a27.272,27.272,0,0,0,25.168-16.2l1.518-3.219a46.132,46.132,0,0,1,40.392-27.707l5.938-.27c.474-.022.959-.057,1.443-.105l3.642-.366A241.342,241.342,0,0,0,496,256,238.432,238.432,0,0,0,425.706,86.294Q419.31,79.9,412.528,74.049Z'\r\n};\r\n\r\nexport default icons;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport icons from './icons';\r\n\r\nconst Icon = ({ name, fill }) => (\r\n  <svg\r\n    fill={fill}\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n    width=\"24\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d={icons[name]} />\r\n  </svg>\r\n);\r\n\r\nIcon.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  fill: PropTypes.string\r\n};\r\n\r\nIcon.defaultProps = {\r\n  fill: 'currentColor'\r\n};\r\n\r\nexport default Icon;\r\n","import Icon from './Icon';\r\n\r\nexport default Icon;\r\n","import Navbar from './Navbar';\r\n\r\nexport default Navbar;\r\n","import React, { Component } from 'react';\r\nimport Item from './Item';\r\nimport Button from './Button';\r\nimport Content from './Content';\r\nimport Drawer from '../../components/Drawer';\r\nimport FloatingActionButton from '../../components/FloatingActionButton';\r\nimport Icon from '../../components/Icon';\r\n\r\n//Routing components\r\nimport {Link} from 'react-router-dom';\r\n\r\n//Components\r\n\r\nclass Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false\r\n    };\r\n  }\r\n\r\n\r\n  handleToggle = () => this.setState({ open: !this.state.open });\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <FloatingActionButton onClick={this.handleToggle}>\r\n          <Icon name=\"menu\" />\r\n        </FloatingActionButton>\r\n        <Drawer\r\n          visible={this.state.open}\r\n          onRequestChange={open => this.setState({ open })}\r\n        >\r\n          <Content>\r\n            <h3>Gimme Venue App</h3>\r\n            <p>\r\n              Gimme Venue is an App that will help you browse through different music venues in different cities of the world.\r\n              </p>\r\n            <p>\r\n              Either if you're a music lover searching for gigs in a specific city, or if you're a band and you want to get in contact with a specific venue in order\r\n              to play, you will find it here.\r\n            </p>\r\n          </Content>\r\n          <Item>\r\n            <Icon name=\"arrowBack\" fill=\"#104986\" />\r\n                <Link to={\"/login\"}>Login</Link>\r\n          </Item>\r\n          <Item>\r\n            <Icon name=\"assessment\" fill=\"#104986\" /> \r\n            <Link to={\"/register\"}>Sign In</Link>\r\n          </Item>\r\n          <Item\r\n            href=\"https://www.honeypot.io\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <Icon name=\"info\" fill=\"#104986\" /> About\r\n          </Item>\r\n          <Content>\r\n            <Button\r\n              href=\"https://www.honeypot.io/lp/join?utm_source=techmap\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Join Honeypot\r\n            </Button>\r\n            <small>\r\n              Honeypot is Europes developer-focused job platform. We are on a mission to get every developer a great job. To create the London Tech Map, we looked at over 12,000 developer job postings and the tech stacks of over 800 London companies.\r\n            </small>\r\n          </Content>\r\n        </Drawer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport AuthContext from '../../context/authentication/authContext';\r\nimport { Link } from 'react-router-dom'\r\n\r\n//styled components\r\nimport Button from '../../styles/styledComponents/Button'\r\n\r\n// components\r\nimport Navbar from \"../../components/Navbar\";\r\n\r\nconst Header = () => {\r\n    //setting the state of the App\r\n    const authContext = useContext(AuthContext)\r\n    const { user, authUser, logout } = authContext;\r\n\r\n    useEffect(() => {\r\n        authUser();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <header className='app-header'>\r\n                {user ? <p className='nombre-usuario'>Hello <span>{user.username}</span></p> : <p className='nombre-usuario'>Hello <span>you!</span></p>}\r\n                <nav className='nav-principal'>\r\n                    {user ? <Button\r\n                        className=\"btn btn-blank\"\r\n                        onClick={() => logout()}\r\n                    >Logout</Button> : <Button\r\n                        className=\"btn btn-blank btn-log\"\r\n                    ><Link to={\"/login\"}>Login</Link></Button>}\r\n                    <p></p>\r\n                    {user ? null : <Button\r\n                        className=\"btn btn-blank btn-log\"\r\n                    ><Link to={\"/register\"}>Register</Link></Button>}\r\n                </nav>\r\n                <Navbar></Navbar>\r\n            </header>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Header;","import React, {useEffect, useContext, useState} from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Link, useRouteMatch } from 'react-router-dom';\r\n\r\n//Styles\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../../App.css';\r\nimport StyledDiv from '../../styles/styledComponents/StyledDiv'\r\n//Components\r\nimport BarcelonaMapGl from '../../containers/Map/BarcelonaMapGl';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport Header from '../../components/Header/Header';\r\n\r\n\r\n//data\r\nimport tokens from \"../../data/token.json\";\r\n\r\n//authentication for the users of the map\r\nimport AuthContext from '../../context/authentication/authContext';\r\n\r\n\r\nfunction App({city}) {\r\n\r\n  //setting the state of the App\r\n  const authContext = useContext(AuthContext)\r\n  const { authUser } = authContext;\r\n  \r\n  useEffect(() => {\r\n    authUser();\r\n  },[]);\r\n  \r\n  const [stateCity, setCityState] = useState({\r\n      selectedCity: 'Barcelona',\r\n      latitude: 41.386991,\r\n      longitude: 2.169987,\r\n  })\r\n  \r\n  const [token, setToken] = useState({\r\n      token: tokens\r\n  })\r\n  \r\n  let year = new Date().getFullYear();\r\n  \r\n  const handleSelectCity = (city) => {\r\n      setCityState({\r\n          selectedCity: city[0].id,\r\n          latitude: city[0].coordinates[0],\r\n          longitude: city[0].coordinates[1]\r\n      })\r\n  }\r\n  return (\r\n  \r\n      <div className=\"App\">\r\n        <Header></Header>\r\n        <BarcelonaMapGl\r\n          mapboxApiAccessToken={token}\r\n          selectedCity={stateCity.selectedCity}\r\n          latitude={stateCity.latitude}\r\n          longitude={stateCity.longitude}\r\n          handleSelectCity={handleSelectCity}\r\n        >\r\n        </BarcelonaMapGl>\r\n        <StyledDiv><p>something in here</p></StyledDiv>\r\n        <Footer year={year} />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default App;\r\n\r\n//IMPORTANT --> BELOW YOU CAN FIND THE CODE USING CLASS INSTEAD OF HOOKS\r\n\r\n// class App extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       selectedCity: 'Barcelona',\r\n//       latitude: 41.386991,\r\n//       longitude: 2.169987,\r\n//     };\r\n//     this.token = {\r\n//       token: tokens\r\n//     }\r\n//     this.year = new Date().getFullYear()\r\n//   }\r\n\r\n//   handleSelectCity = (city) => {\r\n//     this.setState({\r\n//       selectedCity: city[0].id,\r\n//       latitude: city[0].coordinates[0],\r\n//       longitude: city[0].coordinates[1]\r\n//     })\r\n//   };\r\n\r\n\r\n//   render() {\r\n\r\n//     return (\r\n\r\n//       <div className=\"App\">\r\n//         <BarcelonaMapGl\r\n//           mapboxApiAccessToken={this.token}\r\n//           selectedCity={this.state.selectedCity}\r\n//           latitude={this.state.latitude}\r\n//           longitude={this.state.longitude}\r\n//           handleSelectCity={this.handleSelectCity}\r\n//         >\r\n\r\n//         </BarcelonaMapGl>\r\n//         <Navbar handleSelectCity={this.handleSelectCity}></Navbar>\r\n//         <Footer year={this.year} />\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n// export default App;\r\n","//import alert actions\r\nimport {MOSTRAR_ALERTA, OCULTAR_ALERTA} from '../../types/index'\r\n\r\nexport default (state, action) => {\r\n    switch(action.type) {\r\n        case MOSTRAR_ALERTA:\r\n            return {\r\n                alert: action.payload,\r\n            }\r\n        case OCULTAR_ALERTA:\r\n            return {\r\n            alert: null\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};","//form validation\r\nexport const MOSTRAR_ALERTA = 'MOSTRAR_ALERTA';\r\nexport const OCULTAR_ALERTA = 'OCULTAR_ALERTA';\r\n\r\n//user registration\r\nexport const REGISTRO_EXITOSO = 'REGISTRO_EXITOSO';\r\nexport const REGISTRO_ERROR = 'REGISTRO_ERROR';\r\nexport const OBTENER_USUARIO = 'OBTENER_USUARIO';\r\nexport const LOGIN_EXITOSO = 'LOGIN_EXITOSO';\r\nexport const LOGIN_ERROR = 'LOGIN_ERROR';\r\nexport const CERRAR_SESION = 'CERRAR_SESION';","import React, {useReducer} from 'react';\r\nimport alertReducer from './alertReducer';\r\nimport alertContext from './alertContext';\r\n\r\n//import alert actions\r\nimport {MOSTRAR_ALERTA, OCULTAR_ALERTA} from '../../types/index'\r\n\r\nconst AlertState = props => {\r\n    const initialState = {\r\n        alert: null\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(alertReducer, initialState);\r\n\r\n    //funciones\r\n\r\n    const showAlert = (msg, category) => {\r\n        dispatch({\r\n            type: MOSTRAR_ALERTA,\r\n            payload: {\r\n                msg,\r\n                category\r\n            }\r\n        });\r\n\r\n        //after 5 seconds the alert disappears\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: OCULTAR_ALERTA\r\n            })\r\n        }, 5000);\r\n    } \r\n\r\n    return (\r\n        <alertContext.Provider\r\n            value={{\r\n                alert: state.alert,\r\n                showAlert\r\n            }}\r\n        >{props.children}\r\n        </alertContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AlertState;","//import alert actions\r\nimport {\r\n    REGISTRO_EXITOSO,\r\n    REGISTRO_ERROR,\r\n    OBTENER_USUARIO,\r\n    LOGIN_ERROR,\r\n    CERRAR_SESION,\r\n    LOGIN_EXITOSO,\r\n} from '../../types/index'\r\n\r\nexport default (state, action) => {\r\n    switch(action.type) {\r\n        case REGISTRO_EXITOSO:\r\n        case LOGIN_EXITOSO:\r\n            localStorage.setItem('token', action.payload.token)\r\n            return {\r\n                ...state,\r\n                authentication: true,\r\n                msg: null\r\n            };\r\n        case CERRAR_SESION:\r\n        case LOGIN_ERROR:\r\n        case REGISTRO_ERROR:\r\n            localStorage.removeItem('token')\r\n            return {\r\n                ...state, \r\n                token: null,\r\n                user: null,\r\n                authentication: null,\r\n                msg: action.payload\r\n            };\r\n        case OBTENER_USUARIO: \r\n        return {\r\n            ...state,\r\n            authentication: true, \r\n            user: action.payload\r\n        };\r\n        default:\r\n            return state;\r\n    }\r\n};","import axios from 'axios';\r\n\r\nconst clientAxios = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL\r\n})\r\n\r\nexport default clientAxios;","import clientAxios from './axios';\r\n\r\nconst tokenAuth = token => {\r\n    if (token) {\r\n        clientAxios.defaults.headers.common['x-auth-token'] = token;\r\n    } else  {\r\n        delete clientAxios.defaults.headers.common['x-auth-token'];\r\n    }  \r\n}\r\n\r\nexport default tokenAuth;","import React, {useReducer} from 'react';\r\nimport AuthContext from './authContext';\r\nimport AuthReducer from './authReducer';\r\n\r\n//import alert actions\r\nimport {\r\n    REGISTRO_EXITOSO,\r\n    REGISTRO_ERROR,\r\n    OBTENER_USUARIO,\r\n    LOGIN_ERROR,\r\n    LOGIN_EXITOSO,\r\n    CERRAR_SESION\r\n} from '../../types/index';\r\n\r\nimport clientAxios from '../../config/axios';\r\nimport tokenAuth from '../../config/tokenAuth';\r\n\r\n\r\nconst AuthState = props => {\r\n    const initialState ={\r\n        token: localStorage.getItem('token'),\r\n        authentication: null,\r\n        user: null,\r\n        msg: null\r\n    } \r\n\r\n    const [ state, dispatch] = useReducer(AuthReducer, initialState);\r\n\r\n    //Functions\r\n\r\n    const registerUser = async data => {\r\n        try {\r\n            const response = await clientAxios.post('/api/users', data);\r\n            dispatch({\r\n                type: REGISTRO_EXITOSO,\r\n                payload: response.data\r\n            });\r\n            //if authentication is succesful, get the user using the function \r\n            authUser();\r\n        } catch (error) {\r\n            // console.log(error.response.data.msg);\r\n            const alert = {\r\n                msg: error.response.data.msg,\r\n                category: 'alerta-error'\r\n            }\r\n            dispatch({\r\n                type: REGISTRO_ERROR,\r\n                payload: alert\r\n            })\r\n        }\r\n    }\r\n\r\n    //Return authenticated user\r\n\r\n    const authUser = async () => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n           tokenAuth(token);\r\n        }\r\n        try {\r\n            const response = await clientAxios.get('/api/auth')\r\n            console.log(response)\r\n            dispatch({\r\n                type: OBTENER_USUARIO,\r\n                payload: response.data.user\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response)\r\n            dispatch({\r\n                type: LOGIN_ERROR\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n    //login function\r\n\r\n    const login = async data => {\r\n        try {\r\n            const response = await clientAxios.post('/api/auth', data);\r\n            dispatch({\r\n                type: LOGIN_EXITOSO,\r\n                payload: response.data \r\n            });\r\n\r\n            //if login is correct, it will be redirected to the main page logged in \r\n            authUser();\r\n        } catch (error) {\r\n            console.log(error.response.data.msg)\r\n            const alert = {\r\n                msg: error.response.data.msg,\r\n                category: 'alerta-error'\r\n            }\r\n            dispatch({\r\n                type: LOGIN_ERROR,\r\n                payload: alert\r\n            })\r\n        }\r\n    }\r\n\r\n    //Logout function \r\n\r\n    const logout = () => {\r\n        dispatch({\r\n            type:CERRAR_SESION\r\n        })\r\n    }\r\n\r\n    return(\r\n        <AuthContext.Provider\r\n        value={{\r\n            token: state.token,\r\n            authentication: state.authentication,\r\n            user: state.user,\r\n            msg: state.msg,\r\n            registerUser,\r\n            login,\r\n            authUser,\r\n            logout\r\n        }}\r\n    >{props.children}</AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthState;","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport styled from 'styled-components'\r\n\r\n//Styles\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\n//Components\r\nimport Login from './components/Auth/Login'\r\nimport Register from './components/Auth/Register'\r\nimport Map from './containers/Map/Map'\r\n//States\r\nimport AlertState from './context/alert/alertState';\r\nimport AuthState from './context/authentication/authState';\r\nimport tokenAuth from './config/tokenAuth';\r\n\r\n//checking if a token is available\r\nconst token = localStorage.getItem('token');\r\nif(token) {\r\n  tokenAuth(token);\r\n}\r\n \r\nclass App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <AlertState>\r\n          <AuthState>\r\n            <Router>\r\n              <Switch>\r\n                <Route exact path=\"/\" component={Map} />\r\n                <Route exact path=\"/login\" component={Login} />\r\n                <Route exact path=\"/register\" component={Register} />\r\n              </Switch>\r\n            </Router>\r\n          </AuthState>\r\n        </AlertState>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}